module.exports=[17171,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(30553),e=c.forwardRef((a,c)=>(0,b.jsx)(d.Primitive.label,{...a,ref:c,onMouseDown:b=>{b.target.closest("button, input, select, textarea")||(a.onMouseDown?.(b),!b.defaultPrevented&&b.detail>1&&b.preventDefault())}}));e.displayName="Label",a.s(["Label",()=>e,"Root",()=>e],49105);var f=a.i(49105),f=f,g=a.i(97895);function h({className:a,...c}){return(0,b.jsx)(f.Root,{"data-slot":"label",className:(0,g.cn)("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",a),...c})}a.s(["Label",()=>h],17171)},1640,a=>{"use strict";var b=a.i(20226),c=a.i(95116);let d=(0,b.create)((a,b)=>({warehouses:c.mockWarehouses,getWarehouses:()=>b().warehouses,getWarehouseById:a=>b().warehouses.find(b=>b.id===a),updateWarehouse:(b,c)=>{a(a=>({warehouses:a.warehouses.map(a=>a.id===b?{...a,...c}:a)}))}}));a.s(["useWarehouseStore",0,d])},21466,a=>{"use strict";var b=a.i(20226),c=a.i(95116);let d=(0,b.create)((a,b)=>({zones:c.mockZones,getZones:()=>b().zones,getZoneById:a=>b().zones.find(b=>b.id===a),updateZone:(b,c)=>{a(a=>({zones:a.zones.map(a=>a.id===b?{...a,...c}:a)}))}}));a.s(["useZoneStore",0,d])},76464,a=>{"use strict";var b=a.i(20226),c=a.i(95116);let d=(0,b.create)((a,b)=>({riders:c.mockRiders,riderZones:c.mockRiderZones,riderLocations:c.mockRiderLocations,getRiders:a=>{let c=b().riders;if(a?.warehouseId&&(c=c.filter(b=>b.warehouse_id===a.warehouseId)),a?.zoneId){let d=b().riderZones.filter(b=>b.zone_id===a.zoneId).map(a=>a.rider_id);c=c.filter(a=>d.includes(a.id))}return a?.activeOnly&&(c=c.filter(a=>a.is_active)),c},getRiderById:a=>b().riders.find(b=>b.id===a),getRiderZones:a=>b().riderZones.filter(b=>b.rider_id===a),getRiderLocation:a=>b().riderLocations.find(b=>b.rider_id===a),addRiderZone:(c,d)=>{b().riderZones.some(a=>a.rider_id===c&&a.zone_id===d)||a(a=>({riderZones:[...a.riderZones,{id:`rz-${Date.now()}`,rider_id:c,zone_id:d}]}))},removeRiderZone:(b,c)=>{a(a=>({riderZones:a.riderZones.filter(a=>a.rider_id!==b||a.zone_id!==c)}))}}));a.s(["useRiderStore",0,d])},1002,a=>{"use strict";var b=a.i(20226),c=a.i(95116);let d=(0,b.create)((a,b)=>({orders:c.mockOrders,statusLogs:c.mockStatusLogs,proofs:c.mockProofs,getOrders:a=>{let c=b().orders;if(a?.status&&a.status.length>0&&(c=c.filter(b=>a.status.includes(b.status))),a?.type&&a.type.length>0&&(c=c.filter(b=>a.type.includes(b.type))),a?.zoneId&&(c=c.filter(b=>b.zone_id===a.zoneId)),a?.warehouseId&&(c=c.filter(b=>b.warehouse_id===a.warehouseId)),a?.search){let b=a.search.toLowerCase();c=c.filter(a=>a.customer_name.toLowerCase().includes(b)||a.customer_phone.includes(b)||a.short_national_address.toLowerCase().includes(b)||a.id.toLowerCase().includes(b))}if(a?.dateFrom&&(c=c.filter(b=>b.created_at>=a.dateFrom)),a?.dateTo){let b=a.dateTo+"T23:59:59Z";c=c.filter(a=>a.created_at<=b)}return c},getOrderById:a=>b().orders.find(b=>b.id===a),getOrderLogs:a=>b().statusLogs.filter(b=>b.order_id===a).sort((a,b)=>new Date(a.created_at).getTime()-new Date(b.created_at).getTime()),getOrderProof:a=>b().proofs.find(b=>b.order_id===a),createOrder:b=>{let c=new Date().toISOString(),d={...b,id:`ord-${Date.now()}`,status:"pending",created_at:c,updated_at:c},e={id:`log-${Date.now()}`,order_id:d.id,status:"pending",note:"Order created manually",changed_by:"admin-001",created_at:c};return a(a=>({orders:[d,...a.orders],statusLogs:[...a.statusLogs,e]})),d},updateOrder:(b,c)=>{a(a=>({orders:a.orders.map(a=>a.id===b?{...a,...c,updated_at:new Date().toISOString()}:a)}))},cancelOrder:b=>{let c=new Date().toISOString();a(a=>({orders:a.orders.map(a=>a.id===b?{...a,status:"cancelled",updated_at:c}:a),statusLogs:[...a.statusLogs,{id:`log-cancel-${Date.now()}`,order_id:b,status:"cancelled",note:"Order cancelled by admin",changed_by:"admin-001",created_at:c}]}))},reassignOrder:(b,c)=>{let d=new Date().toISOString();a(a=>({orders:a.orders.map(a=>a.id===b?{...a,rider_id:c,status:"assigned",auto_assigned:!1,updated_at:d}:a),statusLogs:[...a.statusLogs,{id:`log-reassign-${Date.now()}`,order_id:b,status:"assigned",note:"Reassigned to rider by admin",changed_by:"admin-001",created_at:d}]}))}}));a.s(["useOrderStore",0,d])},88237,a=>{"use strict";var b=a.i(87924),c=a.i(97895);function d({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"table-container",className:"relative w-full overflow-x-auto",children:(0,b.jsx)("table",{"data-slot":"table",className:(0,c.cn)("w-full caption-bottom text-sm",a),...d})})}function e({className:a,...d}){return(0,b.jsx)("thead",{"data-slot":"table-header",className:(0,c.cn)("[&_tr]:border-b",a),...d})}function f({className:a,...d}){return(0,b.jsx)("tbody",{"data-slot":"table-body",className:(0,c.cn)("[&_tr:last-child]:border-0",a),...d})}function g({className:a,...d}){return(0,b.jsx)("tr",{"data-slot":"table-row",className:(0,c.cn)("hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors",a),...d})}function h({className:a,...d}){return(0,b.jsx)("th",{"data-slot":"table-head",className:(0,c.cn)("text-foreground h-10 px-2 text-left align-middle font-medium whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",a),...d})}function i({className:a,...d}){return(0,b.jsx)("td",{"data-slot":"table-cell",className:(0,c.cn)("p-2 align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",a),...d})}a.s(["Table",()=>d,"TableBody",()=>f,"TableCell",()=>i,"TableHead",()=>h,"TableHeader",()=>e,"TableRow",()=>g])},80281,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(7554),e=a.i(70121),f=a.i(50104),g=a.i(25152),h=a.i(77994),i=a.i(3688),j=a.i(30553),k="Switch",[l,m]=(0,f.createContextScope)(k),[n,o]=l(k),p=c.forwardRef((a,f)=>{let{__scopeSwitch:h,name:i,checked:l,defaultChecked:m,required:o,disabled:p,value:q="on",onCheckedChange:r,form:u,...v}=a,[w,x]=c.useState(null),y=(0,e.useComposedRefs)(f,a=>x(a)),z=c.useRef(!1),A=!w||u||!!w.closest("form"),[B,C]=(0,g.useControllableState)({prop:l,defaultProp:m??!1,onChange:r,caller:k});return(0,b.jsxs)(n,{scope:h,checked:B,disabled:p,children:[(0,b.jsx)(j.Primitive.button,{type:"button",role:"switch","aria-checked":B,"aria-required":o,"data-state":t(B),"data-disabled":p?"":void 0,disabled:p,value:q,...v,ref:y,onClick:(0,d.composeEventHandlers)(a.onClick,a=>{C(a=>!a),A&&(z.current=a.isPropagationStopped(),z.current||a.stopPropagation())})}),A&&(0,b.jsx)(s,{control:w,bubbles:!z.current,name:i,value:q,checked:B,required:o,disabled:p,form:u,style:{transform:"translateX(-100%)"}})]})});p.displayName=k;var q="SwitchThumb",r=c.forwardRef((a,c)=>{let{__scopeSwitch:d,...e}=a,f=o(q,d);return(0,b.jsx)(j.Primitive.span,{"data-state":t(f.checked),"data-disabled":f.disabled?"":void 0,...e,ref:c})});r.displayName=q;var s=c.forwardRef(({__scopeSwitch:a,control:d,checked:f,bubbles:g=!0,...j},k)=>{let l=c.useRef(null),m=(0,e.useComposedRefs)(l,k),n=(0,h.usePrevious)(f),o=(0,i.useSize)(d);return c.useEffect(()=>{let a=l.current;if(!a)return;let b=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set;if(n!==f&&b){let c=new Event("click",{bubbles:g});b.call(a,f),a.dispatchEvent(c)}},[n,f,g]),(0,b.jsx)("input",{type:"checkbox","aria-hidden":!0,defaultChecked:f,...j,tabIndex:-1,ref:m,style:{...j.style,...o,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});function t(a){return a?"checked":"unchecked"}s.displayName="SwitchBubbleInput",a.s(["Root",()=>p,"Switch",()=>p,"SwitchThumb",()=>r,"Thumb",()=>r,"createSwitchScope",()=>m],19025);var u=a.i(19025),u=u,v=a.i(97895);function w({className:a,size:c="default",...d}){return(0,b.jsx)(u.Root,{"data-slot":"switch","data-size":c,className:(0,v.cn)("peer data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:border-ring focus-visible:ring-ring/50 dark:data-[state=unchecked]:bg-input/80 group/switch inline-flex shrink-0 items-center rounded-full border border-transparent shadow-xs transition-all outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-[1.15rem] data-[size=default]:w-8 data-[size=sm]:h-3.5 data-[size=sm]:w-6",a),...d,children:(0,b.jsx)(u.Thumb,{"data-slot":"switch-thumb",className:(0,v.cn)("bg-background dark:data-[state=unchecked]:bg-foreground dark:data-[state=checked]:bg-primary-foreground pointer-events-none block rounded-full ring-0 transition-transform group-data-[size=default]/switch:size-4 group-data-[size=sm]/switch:size-3 data-[state=checked]:translate-x-[calc(100%-2px)] data-[state=unchecked]:translate-x-0")})})}a.s(["Switch",()=>w],80281)},61560,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(87682),e=a.i(80281),f=a.i(17171),g=a.i(50944),h=a.i(88237),i=a.i(1640),j=a.i(21466),k=a.i(76464),l=a.i(1002);function m({riders:a}){let c=(0,g.useRouter)(),d=(0,i.useWarehouseStore)(a=>a.warehouses),e=(0,j.useZoneStore)(a=>a.zones),f=(0,k.useRiderStore)(a=>a.riderZones),m=(0,l.useOrderStore)(a=>a.orders);return 0===a.length?(0,b.jsx)("div",{className:"text-center py-12 text-muted-foreground",children:"No riders found."}):(0,b.jsx)("div",{className:"rounded-lg border overflow-hidden",children:(0,b.jsxs)(h.Table,{children:[(0,b.jsx)(h.TableHeader,{children:(0,b.jsxs)(h.TableRow,{children:[(0,b.jsx)(h.TableHead,{children:"Name"}),(0,b.jsx)(h.TableHead,{children:"Phone"}),(0,b.jsx)(h.TableHead,{className:"hidden md:table-cell",children:"Warehouse"}),(0,b.jsx)(h.TableHead,{className:"hidden lg:table-cell",children:"Zones"}),(0,b.jsx)(h.TableHead,{children:"Status"}),(0,b.jsx)(h.TableHead,{children:"Active Orders"})]})}),(0,b.jsx)(h.TableBody,{children:a.map(a=>{var g;let i,j;return(0,b.jsxs)(h.TableRow,{className:"cursor-pointer hover:bg-muted/50",onClick:()=>c.push(`/riders/${a.id}`),children:[(0,b.jsx)(h.TableCell,{className:"font-medium",children:a.full_name}),(0,b.jsx)(h.TableCell,{className:"text-sm",children:a.phone}),(0,b.jsx)(h.TableCell,{className:"hidden md:table-cell text-sm",children:(i=a.warehouse_id)?d.find(a=>a.id===i)?.name??"—":"—"}),(0,b.jsx)(h.TableCell,{className:"hidden lg:table-cell text-sm max-w-[200px] truncate",children:(g=a.id,f.filter(a=>a.rider_id===g).map(a=>a.zone_id).map(a=>e.find(b=>b.id===a)?.name??a).join(", ")||"—")}),(0,b.jsx)(h.TableCell,{children:(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("div",{className:`w-2.5 h-2.5 rounded-full ${a.is_active?"bg-green-500":"bg-gray-400"}`}),(0,b.jsx)("span",{className:"text-sm",children:a.is_active?"Active":"Offline"})]})}),(0,b.jsx)(h.TableCell,{className:"text-sm",children:(j=a.id,m.filter(a=>a.rider_id===j&&!["delivered","failed","returned_to_warehouse","cancelled"].includes(a.status)).length)})]},a.id)})})]})})}function n(){let a=(0,k.useRiderStore)(a=>a.riders),g=(0,k.useRiderStore)(a=>a.riderZones),h=(0,i.useWarehouseStore)(a=>a.warehouses),l=(0,j.useZoneStore)(a=>a.zones),[n,o]=(0,c.useState)("all"),[p,q]=(0,c.useState)("all"),[r,s]=(0,c.useState)(!1),t=(0,c.useMemo)(()=>{let b=a;if("all"!==n&&(b=b.filter(a=>a.warehouse_id===n)),"all"!==p){let a=g.filter(a=>a.zone_id===p).map(a=>a.rider_id);b=b.filter(b=>a.includes(b.id))}return r&&(b=b.filter(a=>a.is_active)),b},[a,g,n,p,r]);return(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h2",{className:"text-lg font-semibold",children:"Riders"}),(0,b.jsxs)("p",{className:"text-sm text-muted-foreground",children:[t.length," rider",1!==t.length?"s":""]})]}),(0,b.jsxs)("div",{className:"flex gap-3 flex-wrap items-center",children:[(0,b.jsxs)(d.Select,{value:n,onValueChange:o,children:[(0,b.jsx)(d.SelectTrigger,{className:"w-[200px]",children:(0,b.jsx)(d.SelectValue,{placeholder:"All Warehouses"})}),(0,b.jsxs)(d.SelectContent,{children:[(0,b.jsx)(d.SelectItem,{value:"all",children:"All Warehouses"}),h.map(a=>(0,b.jsx)(d.SelectItem,{value:a.id,children:a.name},a.id))]})]}),(0,b.jsxs)(d.Select,{value:p,onValueChange:q,children:[(0,b.jsx)(d.SelectTrigger,{className:"w-[180px]",children:(0,b.jsx)(d.SelectValue,{placeholder:"All Zones"})}),(0,b.jsxs)(d.SelectContent,{children:[(0,b.jsx)(d.SelectItem,{value:"all",children:"All Zones"}),l.map(a=>(0,b.jsx)(d.SelectItem,{value:a.id,children:a.name},a.id))]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(e.Switch,{id:"active-only",checked:r,onCheckedChange:s}),(0,b.jsx)(f.Label,{htmlFor:"active-only",className:"text-sm",children:"Active only"})]})]}),(0,b.jsx)(m,{riders:t})]})}a.s(["default",()=>n],61560)}];

//# sourceMappingURL=_74db9870._.js.map