module.exports=[21466,a=>{"use strict";var b=a.i(20226),c=a.i(95116);let d=(0,b.create)((a,b)=>({zones:c.mockZones,getZones:()=>b().zones,getZoneById:a=>b().zones.find(b=>b.id===a),updateZone:(b,c)=>{a(a=>({zones:a.zones.map(a=>a.id===b?{...a,...c}:a)}))}}));a.s(["useZoneStore",0,d])},1640,a=>{"use strict";var b=a.i(20226),c=a.i(95116);let d=(0,b.create)((a,b)=>({warehouses:c.mockWarehouses,getWarehouses:()=>b().warehouses,getWarehouseById:a=>b().warehouses.find(b=>b.id===a),updateWarehouse:(b,c)=>{a(a=>({warehouses:a.warehouses.map(a=>a.id===b?{...a,...c}:a)}))}}));a.s(["useWarehouseStore",0,d])},76464,a=>{"use strict";var b=a.i(20226),c=a.i(95116);let d=(0,b.create)((a,b)=>({riders:c.mockRiders,riderZones:c.mockRiderZones,riderLocations:c.mockRiderLocations,getRiders:a=>{let c=b().riders;if(a?.warehouseId&&(c=c.filter(b=>b.warehouse_id===a.warehouseId)),a?.zoneId){let d=b().riderZones.filter(b=>b.zone_id===a.zoneId).map(a=>a.rider_id);c=c.filter(a=>d.includes(a.id))}return a?.activeOnly&&(c=c.filter(a=>a.is_active)),c},getRiderById:a=>b().riders.find(b=>b.id===a),getRiderZones:a=>b().riderZones.filter(b=>b.rider_id===a),getRiderLocation:a=>b().riderLocations.find(b=>b.rider_id===a),addRiderZone:(c,d)=>{b().riderZones.some(a=>a.rider_id===c&&a.zone_id===d)||a(a=>({riderZones:[...a.riderZones,{id:`rz-${Date.now()}`,rider_id:c,zone_id:d}]}))},removeRiderZone:(b,c)=>{a(a=>({riderZones:a.riderZones.filter(a=>a.rider_id!==b||a.zone_id!==c)}))}}));a.s(["useRiderStore",0,d])},1002,a=>{"use strict";var b=a.i(20226),c=a.i(95116);let d=(0,b.create)((a,b)=>({orders:c.mockOrders,statusLogs:c.mockStatusLogs,proofs:c.mockProofs,getOrders:a=>{let c=b().orders;if(a?.status&&a.status.length>0&&(c=c.filter(b=>a.status.includes(b.status))),a?.type&&a.type.length>0&&(c=c.filter(b=>a.type.includes(b.type))),a?.zoneId&&(c=c.filter(b=>b.zone_id===a.zoneId)),a?.warehouseId&&(c=c.filter(b=>b.warehouse_id===a.warehouseId)),a?.search){let b=a.search.toLowerCase();c=c.filter(a=>a.customer_name.toLowerCase().includes(b)||a.customer_phone.includes(b)||a.short_national_address.toLowerCase().includes(b)||a.id.toLowerCase().includes(b))}if(a?.dateFrom&&(c=c.filter(b=>b.created_at>=a.dateFrom)),a?.dateTo){let b=a.dateTo+"T23:59:59Z";c=c.filter(a=>a.created_at<=b)}return c},getOrderById:a=>b().orders.find(b=>b.id===a),getOrderLogs:a=>b().statusLogs.filter(b=>b.order_id===a).sort((a,b)=>new Date(a.created_at).getTime()-new Date(b.created_at).getTime()),getOrderProof:a=>b().proofs.find(b=>b.order_id===a),createOrder:b=>{let c=new Date().toISOString(),d={...b,id:`ord-${Date.now()}`,status:"pending",created_at:c,updated_at:c},e={id:`log-${Date.now()}`,order_id:d.id,status:"pending",note:"Order created manually",changed_by:"admin-001",created_at:c};return a(a=>({orders:[d,...a.orders],statusLogs:[...a.statusLogs,e]})),d},updateOrder:(b,c)=>{a(a=>({orders:a.orders.map(a=>a.id===b?{...a,...c,updated_at:new Date().toISOString()}:a)}))},cancelOrder:b=>{let c=new Date().toISOString();a(a=>({orders:a.orders.map(a=>a.id===b?{...a,status:"cancelled",updated_at:c}:a),statusLogs:[...a.statusLogs,{id:`log-cancel-${Date.now()}`,order_id:b,status:"cancelled",note:"Order cancelled by admin",changed_by:"admin-001",created_at:c}]}))},reassignOrder:(b,c)=>{let d=new Date().toISOString();a(a=>({orders:a.orders.map(a=>a.id===b?{...a,rider_id:c,status:"assigned",auto_assigned:!1,updated_at:d}:a),statusLogs:[...a.statusLogs,{id:`log-reassign-${Date.now()}`,order_id:b,status:"assigned",note:"Reassigned to rider by admin",changed_by:"admin-001",created_at:d}]}))}}));a.s(["useOrderStore",0,d])},3130,a=>{"use strict";var b=a.i(87924),c=a.i(97895);function d({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card",className:(0,c.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",a),...d})}function e({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card-header",className:(0,c.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-2 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",a),...d})}function f({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card-title",className:(0,c.cn)("leading-none font-semibold",a),...d})}function g({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card-description",className:(0,c.cn)("text-muted-foreground text-sm",a),...d})}function h({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card-content",className:(0,c.cn)("px-6",a),...d})}a.s(["Card",()=>d,"CardContent",()=>h,"CardDescription",()=>g,"CardHeader",()=>e,"CardTitle",()=>f])},33354,(a,b,c)=>{"use strict";c._=function(a){return a&&a.__esModule?a:{default:a}}},32245,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"BailoutToCSR",{enumerable:!0,get:function(){return e}});let d=a.r(41997);function e({reason:a,children:b}){throw Object.defineProperty(new d.BailoutToCSRError(a),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0})}},7773,(a,b,c)=>{"use strict";function d(a){return a.split("/").map(a=>encodeURIComponent(a)).join("/")}Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"encodeURIPath",{enumerable:!0,get:function(){return d}})},97458,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"PreloadChunks",{enumerable:!0,get:function(){return i}});let d=a.r(87924),e=a.r(35112),f=a.r(56704),g=a.r(7773),h=a.r(68063);function i({moduleIds:a}){let b=f.workAsyncStorage.getStore();if(void 0===b)return null;let c=[];if(b.reactLoadableManifest&&a){let d=b.reactLoadableManifest;for(let b of a){if(!d[b])continue;let a=d[b].files;c.push(...a)}}if(0===c.length)return null;let i=(0,h.getDeploymentIdQueryOrEmptyString)();return(0,d.jsx)(d.Fragment,{children:c.map(a=>{let c=`${b.assetPrefix}/_next/${(0,g.encodeURIPath)(a)}${i}`;return a.endsWith(".css")?(0,d.jsx)("link",{precedence:"dynamic",href:c,rel:"stylesheet",as:"style",nonce:b.nonce},a):((0,e.preload)(c,{as:"script",fetchPriority:"low",nonce:b.nonce}),null)})})}},69853,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"default",{enumerable:!0,get:function(){return j}});let d=a.r(87924),e=a.r(72131),f=a.r(32245),g=a.r(97458);function h(a){return{default:a&&"default"in a?a.default:a}}let i={loader:()=>Promise.resolve(h(()=>null)),loading:null,ssr:!0},j=function(a){let b={...i,...a},c=(0,e.lazy)(()=>b.loader().then(h)),j=b.loading;function k(a){let h=j?(0,d.jsx)(j,{isLoading:!0,pastDelay:!0,error:null}):null,i=!b.ssr||!!b.loading,k=i?e.Suspense:e.Fragment,l=b.ssr?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(g.PreloadChunks,{moduleIds:b.modules}),(0,d.jsx)(c,{...a})]}):(0,d.jsx)(f.BailoutToCSR,{reason:"next/dynamic",children:(0,d.jsx)(c,{...a})});return(0,d.jsx)(k,{...i?{fallback:h}:{},children:l})}return k.displayName="LoadableComponent",k}},19721,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"default",{enumerable:!0,get:function(){return e}});let d=a.r(33354)._(a.r(69853));function e(a,b){let c={};"function"==typeof a&&(c.loader=a);let e={...c,...b};return(0,d.default)({...e,modules:e.loadableGenerated?.modules})}("function"==typeof c.default||"object"==typeof c.default&&null!==c.default)&&void 0===c.default.__esModule&&(Object.defineProperty(c.default,"__esModule",{value:!0}),Object.assign(c.default,c),b.exports=c.default)},22014,a=>{"use strict";var b=a.i(87924);let c=(0,a.i(19721).default)(async()=>{},{loadableGenerated:{modules:[93836]},ssr:!1,loading:()=>(0,b.jsx)("div",{className:"w-full h-full min-h-[300px] rounded-lg bg-muted flex items-center justify-center",children:(0,b.jsx)("p",{className:"text-muted-foreground",children:"Loading map..."})})});function d(a){return(0,b.jsx)(c,{...a})}a.s(["MapView",()=>d])},19153,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(83497),e=a.i(70106);let f=(0,e.default)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),g=(0,e.default)("circle-x",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),h=(0,e.default)("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]),i=(0,e.default)("rotate-ccw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);var j=a.i(22014),k=a.i(3130);function l({title:a,value:c,icon:d,color:e}){return(0,b.jsx)(k.Card,{children:(0,b.jsxs)(k.CardContent,{className:"flex items-center gap-4 p-6",children:[(0,b.jsx)("div",{className:`w-12 h-12 rounded-lg flex items-center justify-center ${e}`,children:d}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:a}),(0,b.jsx)("p",{className:"text-2xl font-bold",children:c})]})]})})}var m=a.i(1002),n=a.i(76464),o=a.i(21466),p=a.i(1640),q=a.i(87682);function r(){let a=(0,m.useOrderStore)(a=>a.orders),e=(0,n.useRiderStore)(a=>a.riders),k=(0,n.useRiderStore)(a=>a.riderLocations),r=(0,o.useZoneStore)(a=>a.zones),s=(0,p.useWarehouseStore)(a=>a.warehouses),[t,u]=(0,c.useState)("all"),[v,w]=(0,c.useState)("all"),x=(0,c.useMemo)(()=>{let b=a;return"all"!==t&&(b=b.filter(a=>a.warehouse_id===t)),"all"!==v&&(b=b.filter(a=>a.zone_id===v)),b},[a,t,v]),y=(0,c.useMemo)(()=>"all"!==t?r.filter(a=>a.warehouse_id===t):r,[r,t]),z=(0,c.useMemo)(()=>e.map(a=>({...a,location:k.find(b=>b.rider_id===a.id)})),[e,k]),A=x.length,B=x.filter(a=>"delivered"===a.status).length,C=x.filter(a=>"failed"===a.status).length,D=x.filter(a=>"pending"===a.status).length,E=x.filter(a=>"return_pickup"===a.type).length;return(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"flex gap-3 flex-wrap",children:[(0,b.jsxs)(q.Select,{value:t,onValueChange:a=>{u(a),w("all")},children:[(0,b.jsx)(q.SelectTrigger,{className:"w-[220px]",children:(0,b.jsx)(q.SelectValue,{placeholder:"All Warehouses"})}),(0,b.jsxs)(q.SelectContent,{children:[(0,b.jsx)(q.SelectItem,{value:"all",children:"All Warehouses"}),s.map(a=>(0,b.jsx)(q.SelectItem,{value:a.id,children:a.name},a.id))]})]}),(0,b.jsxs)(q.Select,{value:v,onValueChange:w,children:[(0,b.jsx)(q.SelectTrigger,{className:"w-[200px]",children:(0,b.jsx)(q.SelectValue,{placeholder:"All Zones"})}),(0,b.jsxs)(q.SelectContent,{children:[(0,b.jsx)(q.SelectItem,{value:"all",children:"All Zones"}),y.map(a=>(0,b.jsx)(q.SelectItem,{value:a.id,children:a.name},a.id))]})]})]}),(0,b.jsx)("div",{className:"h-[60vh] rounded-lg overflow-hidden border",children:(0,b.jsx)(j.MapView,{orders:x,riders:z,zones:"all"!==v?r.filter(a=>a.id===v):y})}),(0,b.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-4",children:[(0,b.jsx)(l,{title:"Total Orders",value:A,icon:(0,b.jsx)(d.Package,{className:"w-5 h-5 text-blue-600"}),color:"bg-blue-100"}),(0,b.jsx)(l,{title:"Delivered",value:B,icon:(0,b.jsx)(f,{className:"w-5 h-5 text-green-600"}),color:"bg-green-100"}),(0,b.jsx)(l,{title:"Failed",value:C,icon:(0,b.jsx)(g,{className:"w-5 h-5 text-red-600"}),color:"bg-red-100"}),(0,b.jsx)(l,{title:"Pending",value:D,icon:(0,b.jsx)(h,{className:"w-5 h-5 text-yellow-600"}),color:"bg-yellow-100"}),(0,b.jsx)(l,{title:"Return Pickups",value:E,icon:(0,b.jsx)(i,{className:"w-5 h-5 text-orange-600"}),color:"bg-orange-100"})]})]})}a.s(["default",()=>r],19153)}];

//# sourceMappingURL=_eadbaf85._.js.map