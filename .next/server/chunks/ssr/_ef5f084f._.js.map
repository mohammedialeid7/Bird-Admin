{"version":3,"sources":["../../../../stores/warehouse-store.ts","../../../../stores/zone-store.ts","../../../../stores/rider-store.ts","../../../../components/ui/table.tsx","../../../../app/%28dashboard%29/warehouses/page.tsx"],"sourcesContent":["import { create } from 'zustand';\nimport type { Warehouse } from '@/lib/types';\nimport { mockWarehouses } from '@/lib/mock-data';\n\ninterface WarehouseState {\n  warehouses: Warehouse[];\n  getWarehouses: () => Warehouse[];\n  getWarehouseById: (id: string) => Warehouse | undefined;\n  updateWarehouse: (id: string, data: Partial<Warehouse>) => void;\n}\n\nexport const useWarehouseStore = create<WarehouseState>((set, get) => ({\n  warehouses: mockWarehouses,\n  getWarehouses: () => get().warehouses,\n  getWarehouseById: (id) => get().warehouses.find((w) => w.id === id),\n  updateWarehouse: (id, data) => {\n    set((state) => ({\n      warehouses: state.warehouses.map((w) =>\n        w.id === id ? { ...w, ...data } : w\n      ),\n    }));\n  },\n}));\n","import { create } from 'zustand';\nimport type { Zone } from '@/lib/types';\nimport { mockZones } from '@/lib/mock-data';\n\ninterface ZoneState {\n  zones: Zone[];\n  getZones: () => Zone[];\n  getZoneById: (id: string) => Zone | undefined;\n  updateZone: (id: string, data: Partial<Zone>) => void;\n}\n\nexport const useZoneStore = create<ZoneState>((set, get) => ({\n  zones: mockZones,\n  getZones: () => get().zones,\n  getZoneById: (id) => get().zones.find((z) => z.id === id),\n  updateZone: (id, data) => {\n    set((state) => ({\n      zones: state.zones.map((z) =>\n        z.id === id ? { ...z, ...data } : z\n      ),\n    }));\n  },\n}));\n","import { create } from 'zustand';\nimport type { User, RiderZone, RiderLocation, RiderFilters } from '@/lib/types';\nimport { mockRiders, mockRiderZones, mockRiderLocations } from '@/lib/mock-data';\n\ninterface RiderState {\n  riders: User[];\n  riderZones: RiderZone[];\n  riderLocations: RiderLocation[];\n  getRiders: (filters?: RiderFilters) => User[];\n  getRiderById: (id: string) => User | undefined;\n  getRiderZones: (riderId: string) => RiderZone[];\n  getRiderLocation: (riderId: string) => RiderLocation | undefined;\n  addRiderZone: (riderId: string, zoneId: string) => void;\n  removeRiderZone: (riderId: string, zoneId: string) => void;\n}\n\nexport const useRiderStore = create<RiderState>((set, get) => ({\n  riders: mockRiders,\n  riderZones: mockRiderZones,\n  riderLocations: mockRiderLocations,\n\n  getRiders: (filters) => {\n    let result = get().riders;\n    if (filters?.warehouseId) {\n      result = result.filter((r) => r.warehouse_id === filters.warehouseId);\n    }\n    if (filters?.zoneId) {\n      const riderIdsInZone = get()\n        .riderZones.filter((rz) => rz.zone_id === filters.zoneId)\n        .map((rz) => rz.rider_id);\n      result = result.filter((r) => riderIdsInZone.includes(r.id));\n    }\n    if (filters?.activeOnly) {\n      result = result.filter((r) => r.is_active);\n    }\n    return result;\n  },\n\n  getRiderById: (id) => get().riders.find((r) => r.id === id),\n\n  getRiderZones: (riderId) =>\n    get().riderZones.filter((rz) => rz.rider_id === riderId),\n\n  getRiderLocation: (riderId) =>\n    get().riderLocations.find((rl) => rl.rider_id === riderId),\n\n  addRiderZone: (riderId, zoneId) => {\n    const exists = get().riderZones.some(\n      (rz) => rz.rider_id === riderId && rz.zone_id === zoneId\n    );\n    if (exists) return;\n    set((state) => ({\n      riderZones: [\n        ...state.riderZones,\n        {\n          id: `rz-${Date.now()}`,\n          rider_id: riderId,\n          zone_id: zoneId,\n        },\n      ],\n    }));\n  },\n\n  removeRiderZone: (riderId, zoneId) => {\n    set((state) => ({\n      riderZones: state.riderZones.filter(\n        (rz) => !(rz.rider_id === riderId && rz.zone_id === zoneId)\n      ),\n    }));\n  },\n}));\n","\"use client\"\n\nimport * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nfunction Table({ className, ...props }: React.ComponentProps<\"table\">) {\n  return (\n    <div\n      data-slot=\"table-container\"\n      className=\"relative w-full overflow-x-auto\"\n    >\n      <table\n        data-slot=\"table\"\n        className={cn(\"w-full caption-bottom text-sm\", className)}\n        {...props}\n      />\n    </div>\n  )\n}\n\nfunction TableHeader({ className, ...props }: React.ComponentProps<\"thead\">) {\n  return (\n    <thead\n      data-slot=\"table-header\"\n      className={cn(\"[&_tr]:border-b\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction TableBody({ className, ...props }: React.ComponentProps<\"tbody\">) {\n  return (\n    <tbody\n      data-slot=\"table-body\"\n      className={cn(\"[&_tr:last-child]:border-0\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction TableFooter({ className, ...props }: React.ComponentProps<\"tfoot\">) {\n  return (\n    <tfoot\n      data-slot=\"table-footer\"\n      className={cn(\n        \"bg-muted/50 border-t font-medium [&>tr]:last:border-b-0\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction TableRow({ className, ...props }: React.ComponentProps<\"tr\">) {\n  return (\n    <tr\n      data-slot=\"table-row\"\n      className={cn(\n        \"hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction TableHead({ className, ...props }: React.ComponentProps<\"th\">) {\n  return (\n    <th\n      data-slot=\"table-head\"\n      className={cn(\n        \"text-foreground h-10 px-2 text-left align-middle font-medium whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction TableCell({ className, ...props }: React.ComponentProps<\"td\">) {\n  return (\n    <td\n      data-slot=\"table-cell\"\n      className={cn(\n        \"p-2 align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction TableCaption({\n  className,\n  ...props\n}: React.ComponentProps<\"caption\">) {\n  return (\n    <caption\n      data-slot=\"table-caption\"\n      className={cn(\"text-muted-foreground mt-4 text-sm\", className)}\n      {...props}\n    />\n  )\n}\n\nexport {\n  Table,\n  TableHeader,\n  TableBody,\n  TableFooter,\n  TableHead,\n  TableRow,\n  TableCell,\n  TableCaption,\n}\n","'use client';\n\nimport { useRouter } from 'next/navigation';\nimport {\n  Table,\n  TableBody,\n  TableCell,\n  TableHead,\n  TableHeader,\n  TableRow,\n} from '@/components/ui/table';\nimport { useWarehouseStore } from '@/stores/warehouse-store';\nimport { useZoneStore } from '@/stores/zone-store';\nimport { useRiderStore } from '@/stores/rider-store';\n\nexport default function WarehousesPage() {\n  const router = useRouter();\n  const warehouses = useWarehouseStore((s) => s.warehouses);\n  const zones = useZoneStore((s) => s.zones);\n  const riders = useRiderStore((s) => s.riders);\n\n  const getZoneCount = (whId: string) =>\n    zones.filter((z) => z.warehouse_id === whId).length;\n\n  const getRiderCount = (whId: string) =>\n    riders.filter((r) => r.warehouse_id === whId).length;\n\n  return (\n    <div className=\"space-y-6\">\n      <div>\n        <h2 className=\"text-lg font-semibold\">Warehouses</h2>\n        <p className=\"text-sm text-muted-foreground\">{warehouses.length} warehouses</p>\n      </div>\n\n      <div className=\"rounded-lg border overflow-hidden\">\n        <Table>\n          <TableHeader>\n            <TableRow>\n              <TableHead>Name</TableHead>\n              <TableHead>Address</TableHead>\n              <TableHead className=\"hidden md:table-cell\">Lat/Lng</TableHead>\n              <TableHead>Zones</TableHead>\n              <TableHead>Riders</TableHead>\n            </TableRow>\n          </TableHeader>\n          <TableBody>\n            {warehouses.map((wh) => (\n              <TableRow\n                key={wh.id}\n                className=\"cursor-pointer hover:bg-muted/50\"\n                onClick={() => router.push(`/warehouses/${wh.id}`)}\n              >\n                <TableCell className=\"font-medium\">{wh.name}</TableCell>\n                <TableCell className=\"font-mono text-xs\">{wh.short_national_address}</TableCell>\n                <TableCell className=\"hidden md:table-cell text-xs text-muted-foreground\">\n                  {wh.lat.toFixed(4)}, {wh.lng.toFixed(4)}\n                </TableCell>\n                <TableCell>{getZoneCount(wh.id)}</TableCell>\n                <TableCell>{getRiderCount(wh.id)}</TableCell>\n              </TableRow>\n            ))}\n          </TableBody>\n        </Table>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}