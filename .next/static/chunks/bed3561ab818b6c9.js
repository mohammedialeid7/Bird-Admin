(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,21961,e=>{"use strict";var r=e.i(68834),t=e.i(27250);let s=(0,r.create)((e,r)=>({zones:t.mockZones,getZones:()=>r().zones,getZoneById:e=>r().zones.find(r=>r.id===e),updateZone:(r,t)=>{e(e=>({zones:e.zones.map(e=>e.id===r?{...e,...t}:e)}))}}));e.s(["useZoneStore",0,s])},97167,e=>{"use strict";var r=e.i(68834),t=e.i(27250);let s=(0,r.create)((e,r)=>({warehouses:t.mockWarehouses,getWarehouses:()=>r().warehouses,getWarehouseById:e=>r().warehouses.find(r=>r.id===e),updateWarehouse:(r,t)=>{e(e=>({warehouses:e.warehouses.map(e=>e.id===r?{...e,...t}:e)}))}}));e.s(["useWarehouseStore",0,s])},93438,e=>{"use strict";var r=e.i(68834),t=e.i(27250);let s=(0,r.create)((e,r)=>({riders:t.mockRiders,riderZones:t.mockRiderZones,riderLocations:t.mockRiderLocations,getRiders:e=>{let t=r().riders;if(e?.warehouseId&&(t=t.filter(r=>r.warehouse_id===e.warehouseId)),e?.zoneId){let s=r().riderZones.filter(r=>r.zone_id===e.zoneId).map(e=>e.rider_id);t=t.filter(e=>s.includes(e.id))}return e?.activeOnly&&(t=t.filter(e=>e.is_active)),t},getRiderById:e=>r().riders.find(r=>r.id===e),getRiderZones:e=>r().riderZones.filter(r=>r.rider_id===e),getRiderLocation:e=>r().riderLocations.find(r=>r.rider_id===e),addRiderZone:(t,s)=>{r().riderZones.some(e=>e.rider_id===t&&e.zone_id===s)||e(e=>({riderZones:[...e.riderZones,{id:`rz-${Date.now()}`,rider_id:t,zone_id:s}]}))},removeRiderZone:(r,t)=>{e(e=>({riderZones:e.riderZones.filter(e=>e.rider_id!==r||e.zone_id!==t)}))}}));e.s(["useRiderStore",0,s])},84744,e=>{"use strict";var r=e.i(68834),t=e.i(27250);let s=(0,r.create)((e,r)=>({orders:t.mockOrders,statusLogs:t.mockStatusLogs,proofs:t.mockProofs,getOrders:e=>{let t=r().orders;if(e?.status&&e.status.length>0&&(t=t.filter(r=>e.status.includes(r.status))),e?.type&&e.type.length>0&&(t=t.filter(r=>e.type.includes(r.type))),e?.zoneId&&(t=t.filter(r=>r.zone_id===e.zoneId)),e?.warehouseId&&(t=t.filter(r=>r.warehouse_id===e.warehouseId)),e?.search){let r=e.search.toLowerCase();t=t.filter(e=>e.customer_name.toLowerCase().includes(r)||e.customer_phone.includes(r)||e.short_national_address.toLowerCase().includes(r)||e.id.toLowerCase().includes(r))}if(e?.dateFrom&&(t=t.filter(r=>r.created_at>=e.dateFrom)),e?.dateTo){let r=e.dateTo+"T23:59:59Z";t=t.filter(e=>e.created_at<=r)}return t},getOrderById:e=>r().orders.find(r=>r.id===e),getOrderLogs:e=>r().statusLogs.filter(r=>r.order_id===e).sort((e,r)=>new Date(e.created_at).getTime()-new Date(r.created_at).getTime()),getOrderProof:e=>r().proofs.find(r=>r.order_id===e),createOrder:r=>{let t=new Date().toISOString(),s={...r,id:`ord-${Date.now()}`,status:"pending",created_at:t,updated_at:t},d={id:`log-${Date.now()}`,order_id:s.id,status:"pending",note:"Order created manually",changed_by:"admin-001",created_at:t};return e(e=>({orders:[s,...e.orders],statusLogs:[...e.statusLogs,d]})),s},updateOrder:(r,t)=>{e(e=>({orders:e.orders.map(e=>e.id===r?{...e,...t,updated_at:new Date().toISOString()}:e)}))},cancelOrder:r=>{let t=new Date().toISOString();e(e=>({orders:e.orders.map(e=>e.id===r?{...e,status:"cancelled",updated_at:t}:e),statusLogs:[...e.statusLogs,{id:`log-cancel-${Date.now()}`,order_id:r,status:"cancelled",note:"Order cancelled by admin",changed_by:"admin-001",created_at:t}]}))},reassignOrder:(r,t)=>{let s=new Date().toISOString();e(e=>({orders:e.orders.map(e=>e.id===r?{...e,rider_id:t,status:"assigned",auto_assigned:!1,updated_at:s}:e),statusLogs:[...e.statusLogs,{id:`log-reassign-${Date.now()}`,order_id:r,status:"assigned",note:"Reassigned to rider by admin",changed_by:"admin-001",created_at:s}]}))}}));e.s(["useOrderStore",0,s])},47627,e=>{"use strict";var r=e.i(43476),t=e.i(47163);function s({className:e,...s}){return(0,r.jsx)("div",{"data-slot":"table-container",className:"relative w-full overflow-x-auto",children:(0,r.jsx)("table",{"data-slot":"table",className:(0,t.cn)("w-full caption-bottom text-sm",e),...s})})}function d({className:e,...s}){return(0,r.jsx)("thead",{"data-slot":"table-header",className:(0,t.cn)("[&_tr]:border-b",e),...s})}function a({className:e,...s}){return(0,r.jsx)("tbody",{"data-slot":"table-body",className:(0,t.cn)("[&_tr:last-child]:border-0",e),...s})}function o({className:e,...s}){return(0,r.jsx)("tr",{"data-slot":"table-row",className:(0,t.cn)("hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors",e),...s})}function i({className:e,...s}){return(0,r.jsx)("th",{"data-slot":"table-head",className:(0,t.cn)("text-foreground h-10 px-2 text-left align-middle font-medium whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...s})}function n({className:e,...s}){return(0,r.jsx)("td",{"data-slot":"table-cell",className:(0,t.cn)("p-2 align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...s})}e.s(["Table",()=>s,"TableBody",()=>a,"TableCell",()=>n,"TableHead",()=>i,"TableHeader",()=>d,"TableRow",()=>o])},34216,e=>{"use strict";var r=e.i(43476),t=e.i(18566),s=e.i(47627),d=e.i(21961),a=e.i(97167),o=e.i(93438),i=e.i(84744);function n(){let e=(0,t.useRouter)(),n=(0,d.useZoneStore)(e=>e.zones),l=(0,a.useWarehouseStore)(e=>e.warehouses),c=(0,o.useRiderStore)(e=>e.riderZones),u=(0,i.useOrderStore)(e=>e.orders);return(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h2",{className:"text-lg font-semibold",children:"Zones"}),(0,r.jsxs)("p",{className:"text-sm text-muted-foreground",children:[n.length," zones"]})]}),(0,r.jsx)("div",{className:"rounded-lg border overflow-hidden",children:(0,r.jsxs)(s.Table,{children:[(0,r.jsx)(s.TableHeader,{children:(0,r.jsxs)(s.TableRow,{children:[(0,r.jsx)(s.TableHead,{children:"Name"}),(0,r.jsx)(s.TableHead,{children:"Warehouse"}),(0,r.jsx)(s.TableHead,{children:"Riders"}),(0,r.jsx)(s.TableHead,{children:"Active Orders"})]})}),(0,r.jsx)(s.TableBody,{children:n.map(t=>{let d,a,o;return(0,r.jsxs)(s.TableRow,{className:"cursor-pointer hover:bg-muted/50",onClick:()=>e.push(`/zones/${t.id}`),children:[(0,r.jsx)(s.TableCell,{className:"font-medium",children:t.name}),(0,r.jsx)(s.TableCell,{children:(d=t.warehouse_id,l.find(e=>e.id===d)?.name??"â€”")}),(0,r.jsx)(s.TableCell,{children:(a=t.id,c.filter(e=>e.zone_id===a).length)}),(0,r.jsx)(s.TableCell,{children:(o=t.id,u.filter(e=>e.zone_id===o&&!["delivered","failed","returned_to_warehouse","cancelled"].includes(e.status)).length)})]},t.id)})})]})})]})}e.s(["default",()=>n])}]);