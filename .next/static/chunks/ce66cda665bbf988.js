(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,10708,e=>{"use strict";var t=e.i(43476),r=e.i(71645),s=e.i(48425),a=r.forwardRef((e,r)=>(0,t.jsx)(s.Primitive.label,{...e,ref:r,onMouseDown:t=>{t.target.closest("button, input, select, textarea")||(e.onMouseDown?.(t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));a.displayName="Label",e.s(["Label",()=>a,"Root",()=>a],73741);var d=e.i(73741),d=d,i=e.i(47163);function l({className:e,...r}){return(0,t.jsx)(d.Root,{"data-slot":"label",className:(0,i.cn)("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",e),...r})}e.s(["Label",()=>l],10708)},97167,e=>{"use strict";var t=e.i(68834),r=e.i(27250);let s=(0,t.create)((e,t)=>({warehouses:r.mockWarehouses,getWarehouses:()=>t().warehouses,getWarehouseById:e=>t().warehouses.find(t=>t.id===e),updateWarehouse:(t,r)=>{e(e=>({warehouses:e.warehouses.map(e=>e.id===t?{...e,...r}:e)}))}}));e.s(["useWarehouseStore",0,s])},21961,e=>{"use strict";var t=e.i(68834),r=e.i(27250);let s=(0,t.create)((e,t)=>({zones:r.mockZones,getZones:()=>t().zones,getZoneById:e=>t().zones.find(t=>t.id===e),updateZone:(t,r)=>{e(e=>({zones:e.zones.map(e=>e.id===t?{...e,...r}:e)}))}}));e.s(["useZoneStore",0,s])},93438,e=>{"use strict";var t=e.i(68834),r=e.i(27250);let s=(0,t.create)((e,t)=>({riders:r.mockRiders,riderZones:r.mockRiderZones,riderLocations:r.mockRiderLocations,getRiders:e=>{let r=t().riders;if(e?.warehouseId&&(r=r.filter(t=>t.warehouse_id===e.warehouseId)),e?.zoneId){let s=t().riderZones.filter(t=>t.zone_id===e.zoneId).map(e=>e.rider_id);r=r.filter(e=>s.includes(e.id))}return e?.activeOnly&&(r=r.filter(e=>e.is_active)),r},getRiderById:e=>t().riders.find(t=>t.id===e),getRiderZones:e=>t().riderZones.filter(t=>t.rider_id===e),getRiderLocation:e=>t().riderLocations.find(t=>t.rider_id===e),addRiderZone:(r,s)=>{t().riderZones.some(e=>e.rider_id===r&&e.zone_id===s)||e(e=>({riderZones:[...e.riderZones,{id:`rz-${Date.now()}`,rider_id:r,zone_id:s}]}))},removeRiderZone:(t,r)=>{e(e=>({riderZones:e.riderZones.filter(e=>e.rider_id!==t||e.zone_id!==r)}))}}));e.s(["useRiderStore",0,s])},84744,e=>{"use strict";var t=e.i(68834),r=e.i(27250);let s=(0,t.create)((e,t)=>({orders:r.mockOrders,statusLogs:r.mockStatusLogs,proofs:r.mockProofs,getOrders:e=>{let r=t().orders;if(e?.status&&e.status.length>0&&(r=r.filter(t=>e.status.includes(t.status))),e?.type&&e.type.length>0&&(r=r.filter(t=>e.type.includes(t.type))),e?.zoneId&&(r=r.filter(t=>t.zone_id===e.zoneId)),e?.warehouseId&&(r=r.filter(t=>t.warehouse_id===e.warehouseId)),e?.search){let t=e.search.toLowerCase();r=r.filter(e=>e.customer_name.toLowerCase().includes(t)||e.customer_phone.includes(t)||e.short_national_address.toLowerCase().includes(t)||e.id.toLowerCase().includes(t))}if(e?.dateFrom&&(r=r.filter(t=>t.created_at>=e.dateFrom)),e?.dateTo){let t=e.dateTo+"T23:59:59Z";r=r.filter(e=>e.created_at<=t)}return r},getOrderById:e=>t().orders.find(t=>t.id===e),getOrderLogs:e=>t().statusLogs.filter(t=>t.order_id===e).sort((e,t)=>new Date(e.created_at).getTime()-new Date(t.created_at).getTime()),getOrderProof:e=>t().proofs.find(t=>t.order_id===e),createOrder:t=>{let r=new Date().toISOString(),s={...t,id:`ord-${Date.now()}`,status:"pending",created_at:r,updated_at:r},a={id:`log-${Date.now()}`,order_id:s.id,status:"pending",note:"Order created manually",changed_by:"admin-001",created_at:r};return e(e=>({orders:[s,...e.orders],statusLogs:[...e.statusLogs,a]})),s},updateOrder:(t,r)=>{e(e=>({orders:e.orders.map(e=>e.id===t?{...e,...r,updated_at:new Date().toISOString()}:e)}))},cancelOrder:t=>{let r=new Date().toISOString();e(e=>({orders:e.orders.map(e=>e.id===t?{...e,status:"cancelled",updated_at:r}:e),statusLogs:[...e.statusLogs,{id:`log-cancel-${Date.now()}`,order_id:t,status:"cancelled",note:"Order cancelled by admin",changed_by:"admin-001",created_at:r}]}))},reassignOrder:(t,r)=>{let s=new Date().toISOString();e(e=>({orders:e.orders.map(e=>e.id===t?{...e,rider_id:r,status:"assigned",auto_assigned:!1,updated_at:s}:e),statusLogs:[...e.statusLogs,{id:`log-reassign-${Date.now()}`,order_id:t,status:"assigned",note:"Reassigned to rider by admin",changed_by:"admin-001",created_at:s}]}))}}));e.s(["useOrderStore",0,s])},47627,e=>{"use strict";var t=e.i(43476),r=e.i(47163);function s({className:e,...s}){return(0,t.jsx)("div",{"data-slot":"table-container",className:"relative w-full overflow-x-auto",children:(0,t.jsx)("table",{"data-slot":"table",className:(0,r.cn)("w-full caption-bottom text-sm",e),...s})})}function a({className:e,...s}){return(0,t.jsx)("thead",{"data-slot":"table-header",className:(0,r.cn)("[&_tr]:border-b",e),...s})}function d({className:e,...s}){return(0,t.jsx)("tbody",{"data-slot":"table-body",className:(0,r.cn)("[&_tr:last-child]:border-0",e),...s})}function i({className:e,...s}){return(0,t.jsx)("tr",{"data-slot":"table-row",className:(0,r.cn)("hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors",e),...s})}function l({className:e,...s}){return(0,t.jsx)("th",{"data-slot":"table-head",className:(0,r.cn)("text-foreground h-10 px-2 text-left align-middle font-medium whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...s})}function o({className:e,...s}){return(0,t.jsx)("td",{"data-slot":"table-cell",className:(0,r.cn)("p-2 align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...s})}e.s(["Table",()=>s,"TableBody",()=>d,"TableCell",()=>o,"TableHead",()=>l,"TableHeader",()=>a,"TableRow",()=>i])},19036,e=>{"use strict";var t=e.i(43476),r=e.i(71645),s=e.i(81140),a=e.i(20783),d=e.i(30030),i=e.i(69340),l=e.i(99682),o=e.i(35804),n=e.i(48425),c="Switch",[u,h]=(0,d.createContextScope)(c),[m,p]=u(c),f=r.forwardRef((e,d)=>{let{__scopeSwitch:l,name:o,checked:u,defaultChecked:h,required:p,disabled:f,value:b="on",onCheckedChange:g,form:v,...j}=e,[_,S]=r.useState(null),y=(0,a.useComposedRefs)(d,e=>S(e)),k=r.useRef(!1),T=!_||v||!!_.closest("form"),[N,R]=(0,i.useControllableState)({prop:u,defaultProp:h??!1,onChange:g,caller:c});return(0,t.jsxs)(m,{scope:l,checked:N,disabled:f,children:[(0,t.jsx)(n.Primitive.button,{type:"button",role:"switch","aria-checked":N,"aria-required":p,"data-state":w(N),"data-disabled":f?"":void 0,disabled:f,value:b,...j,ref:y,onClick:(0,s.composeEventHandlers)(e.onClick,e=>{R(e=>!e),T&&(k.current=e.isPropagationStopped(),k.current||e.stopPropagation())})}),T&&(0,t.jsx)(x,{control:_,bubbles:!k.current,name:o,value:b,checked:N,required:p,disabled:f,form:v,style:{transform:"translateX(-100%)"}})]})});f.displayName=c;var b="SwitchThumb",g=r.forwardRef((e,r)=>{let{__scopeSwitch:s,...a}=e,d=p(b,s);return(0,t.jsx)(n.Primitive.span,{"data-state":w(d.checked),"data-disabled":d.disabled?"":void 0,...a,ref:r})});g.displayName=b;var x=r.forwardRef(({__scopeSwitch:e,control:s,checked:d,bubbles:i=!0,...n},c)=>{let u=r.useRef(null),h=(0,a.useComposedRefs)(u,c),m=(0,l.usePrevious)(d),p=(0,o.useSize)(s);return r.useEffect(()=>{let e=u.current;if(!e)return;let t=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set;if(m!==d&&t){let r=new Event("click",{bubbles:i});t.call(e,d),e.dispatchEvent(r)}},[m,d,i]),(0,t.jsx)("input",{type:"checkbox","aria-hidden":!0,defaultChecked:d,...n,tabIndex:-1,ref:h,style:{...n.style,...p,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});function w(e){return e?"checked":"unchecked"}x.displayName="SwitchBubbleInput",e.s(["Root",()=>f,"Switch",()=>f,"SwitchThumb",()=>g,"Thumb",()=>g,"createSwitchScope",()=>h],57287);var v=e.i(57287),v=v,j=e.i(47163);function _({className:e,size:r="default",...s}){return(0,t.jsx)(v.Root,{"data-slot":"switch","data-size":r,className:(0,j.cn)("peer data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:border-ring focus-visible:ring-ring/50 dark:data-[state=unchecked]:bg-input/80 group/switch inline-flex shrink-0 items-center rounded-full border border-transparent shadow-xs transition-all outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-[1.15rem] data-[size=default]:w-8 data-[size=sm]:h-3.5 data-[size=sm]:w-6",e),...s,children:(0,t.jsx)(v.Thumb,{"data-slot":"switch-thumb",className:(0,j.cn)("bg-background dark:data-[state=unchecked]:bg-foreground dark:data-[state=checked]:bg-primary-foreground pointer-events-none block rounded-full ring-0 transition-transform group-data-[size=default]/switch:size-4 group-data-[size=sm]/switch:size-3 data-[state=checked]:translate-x-[calc(100%-2px)] data-[state=unchecked]:translate-x-0")})})}e.s(["Switch",()=>_],19036)},57817,e=>{"use strict";var t=e.i(43476),r=e.i(71645),s=e.i(62870),a=e.i(19036),d=e.i(10708),i=e.i(18566),l=e.i(47627),o=e.i(97167),n=e.i(21961),c=e.i(93438),u=e.i(84744);function h({riders:e}){let r=(0,i.useRouter)(),s=(0,o.useWarehouseStore)(e=>e.warehouses),a=(0,n.useZoneStore)(e=>e.zones),d=(0,c.useRiderStore)(e=>e.riderZones),h=(0,u.useOrderStore)(e=>e.orders);return 0===e.length?(0,t.jsx)("div",{className:"text-center py-12 text-muted-foreground",children:"No riders found."}):(0,t.jsx)("div",{className:"rounded-lg border overflow-hidden",children:(0,t.jsxs)(l.Table,{children:[(0,t.jsx)(l.TableHeader,{children:(0,t.jsxs)(l.TableRow,{children:[(0,t.jsx)(l.TableHead,{children:"Name"}),(0,t.jsx)(l.TableHead,{children:"Phone"}),(0,t.jsx)(l.TableHead,{className:"hidden md:table-cell",children:"Warehouse"}),(0,t.jsx)(l.TableHead,{className:"hidden lg:table-cell",children:"Zones"}),(0,t.jsx)(l.TableHead,{children:"Status"}),(0,t.jsx)(l.TableHead,{children:"Active Orders"})]})}),(0,t.jsx)(l.TableBody,{children:e.map(e=>{var i;let o,n;return(0,t.jsxs)(l.TableRow,{className:"cursor-pointer hover:bg-muted/50",onClick:()=>r.push(`/riders/${e.id}`),children:[(0,t.jsx)(l.TableCell,{className:"font-medium",children:e.full_name}),(0,t.jsx)(l.TableCell,{className:"text-sm",children:e.phone}),(0,t.jsx)(l.TableCell,{className:"hidden md:table-cell text-sm",children:(o=e.warehouse_id)?s.find(e=>e.id===o)?.name??"â€”":"â€”"}),(0,t.jsx)(l.TableCell,{className:"hidden lg:table-cell text-sm max-w-[200px] truncate",children:(i=e.id,d.filter(e=>e.rider_id===i).map(e=>e.zone_id).map(e=>a.find(t=>t.id===e)?.name??e).join(", ")||"â€”")}),(0,t.jsx)(l.TableCell,{children:(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:`w-2.5 h-2.5 rounded-full ${e.is_active?"bg-green-500":"bg-gray-400"}`}),(0,t.jsx)("span",{className:"text-sm",children:e.is_active?"Active":"Offline"})]})}),(0,t.jsx)(l.TableCell,{className:"text-sm",children:(n=e.id,h.filter(e=>e.rider_id===n&&!["delivered","failed","returned_to_warehouse","cancelled"].includes(e.status)).length)})]},e.id)})})]})})}function m(){let e=(0,c.useRiderStore)(e=>e.riders),i=(0,c.useRiderStore)(e=>e.riderZones),l=(0,o.useWarehouseStore)(e=>e.warehouses),u=(0,n.useZoneStore)(e=>e.zones),[m,p]=(0,r.useState)("all"),[f,b]=(0,r.useState)("all"),[g,x]=(0,r.useState)(!1),w=(0,r.useMemo)(()=>{let t=e;if("all"!==m&&(t=t.filter(e=>e.warehouse_id===m)),"all"!==f){let e=i.filter(e=>e.zone_id===f).map(e=>e.rider_id);t=t.filter(t=>e.includes(t.id))}return g&&(t=t.filter(e=>e.is_active)),t},[e,i,m,f,g]);return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-lg font-semibold",children:"Riders"}),(0,t.jsxs)("p",{className:"text-sm text-muted-foreground",children:[w.length," rider",1!==w.length?"s":""]})]}),(0,t.jsxs)("div",{className:"flex gap-3 flex-wrap items-center",children:[(0,t.jsxs)(s.Select,{value:m,onValueChange:p,children:[(0,t.jsx)(s.SelectTrigger,{className:"w-[200px]",children:(0,t.jsx)(s.SelectValue,{placeholder:"All Warehouses"})}),(0,t.jsxs)(s.SelectContent,{children:[(0,t.jsx)(s.SelectItem,{value:"all",children:"All Warehouses"}),l.map(e=>(0,t.jsx)(s.SelectItem,{value:e.id,children:e.name},e.id))]})]}),(0,t.jsxs)(s.Select,{value:f,onValueChange:b,children:[(0,t.jsx)(s.SelectTrigger,{className:"w-[180px]",children:(0,t.jsx)(s.SelectValue,{placeholder:"All Zones"})}),(0,t.jsxs)(s.SelectContent,{children:[(0,t.jsx)(s.SelectItem,{value:"all",children:"All Zones"}),u.map(e=>(0,t.jsx)(s.SelectItem,{value:e.id,children:e.name},e.id))]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(a.Switch,{id:"active-only",checked:g,onCheckedChange:x}),(0,t.jsx)(d.Label,{htmlFor:"active-only",className:"text-sm",children:"Active only"})]})]}),(0,t.jsx)(h,{riders:w})]})}e.s(["default",()=>m],57817)}]);