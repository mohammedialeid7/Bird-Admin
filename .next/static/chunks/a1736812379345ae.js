(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,21961,e=>{"use strict";var t=e.i(68834),r=e.i(27250);let s=(0,t.create)((e,t)=>({zones:r.mockZones,getZones:()=>t().zones,getZoneById:e=>t().zones.find(t=>t.id===e),updateZone:(t,r)=>{e(e=>({zones:e.zones.map(e=>e.id===t?{...e,...r}:e)}))}}));e.s(["useZoneStore",0,s])},97167,e=>{"use strict";var t=e.i(68834),r=e.i(27250);let s=(0,t.create)((e,t)=>({warehouses:r.mockWarehouses,getWarehouses:()=>t().warehouses,getWarehouseById:e=>t().warehouses.find(t=>t.id===e),updateWarehouse:(t,r)=>{e(e=>({warehouses:e.warehouses.map(e=>e.id===t?{...e,...r}:e)}))}}));e.s(["useWarehouseStore",0,s])},93438,e=>{"use strict";var t=e.i(68834),r=e.i(27250);let s=(0,t.create)((e,t)=>({riders:r.mockRiders,riderZones:r.mockRiderZones,riderLocations:r.mockRiderLocations,getRiders:e=>{let r=t().riders;if(e?.warehouseId&&(r=r.filter(t=>t.warehouse_id===e.warehouseId)),e?.zoneId){let s=t().riderZones.filter(t=>t.zone_id===e.zoneId).map(e=>e.rider_id);r=r.filter(e=>s.includes(e.id))}return e?.activeOnly&&(r=r.filter(e=>e.is_active)),r},getRiderById:e=>t().riders.find(t=>t.id===e),getRiderZones:e=>t().riderZones.filter(t=>t.rider_id===e),getRiderLocation:e=>t().riderLocations.find(t=>t.rider_id===e),addRiderZone:(r,s)=>{t().riderZones.some(e=>e.rider_id===r&&e.zone_id===s)||e(e=>({riderZones:[...e.riderZones,{id:`rz-${Date.now()}`,rider_id:r,zone_id:s}]}))},removeRiderZone:(t,r)=>{e(e=>({riderZones:e.riderZones.filter(e=>e.rider_id!==t||e.zone_id!==r)}))}}));e.s(["useRiderStore",0,s])},84744,e=>{"use strict";var t=e.i(68834),r=e.i(27250);let s=(0,t.create)((e,t)=>({orders:r.mockOrders,statusLogs:r.mockStatusLogs,proofs:r.mockProofs,getOrders:e=>{let r=t().orders;if(e?.status&&e.status.length>0&&(r=r.filter(t=>e.status.includes(t.status))),e?.type&&e.type.length>0&&(r=r.filter(t=>e.type.includes(t.type))),e?.zoneId&&(r=r.filter(t=>t.zone_id===e.zoneId)),e?.warehouseId&&(r=r.filter(t=>t.warehouse_id===e.warehouseId)),e?.search){let t=e.search.toLowerCase();r=r.filter(e=>e.customer_name.toLowerCase().includes(t)||e.customer_phone.includes(t)||e.short_national_address.toLowerCase().includes(t)||e.id.toLowerCase().includes(t))}if(e?.dateFrom&&(r=r.filter(t=>t.created_at>=e.dateFrom)),e?.dateTo){let t=e.dateTo+"T23:59:59Z";r=r.filter(e=>e.created_at<=t)}return r},getOrderById:e=>t().orders.find(t=>t.id===e),getOrderLogs:e=>t().statusLogs.filter(t=>t.order_id===e).sort((e,t)=>new Date(e.created_at).getTime()-new Date(t.created_at).getTime()),getOrderProof:e=>t().proofs.find(t=>t.order_id===e),createOrder:t=>{let r=new Date().toISOString(),s={...t,id:`ord-${Date.now()}`,status:"pending",created_at:r,updated_at:r},a={id:`log-${Date.now()}`,order_id:s.id,status:"pending",note:"Order created manually",changed_by:"admin-001",created_at:r};return e(e=>({orders:[s,...e.orders],statusLogs:[...e.statusLogs,a]})),s},updateOrder:(t,r)=>{e(e=>({orders:e.orders.map(e=>e.id===t?{...e,...r,updated_at:new Date().toISOString()}:e)}))},cancelOrder:t=>{let r=new Date().toISOString();e(e=>({orders:e.orders.map(e=>e.id===t?{...e,status:"cancelled",updated_at:r}:e),statusLogs:[...e.statusLogs,{id:`log-cancel-${Date.now()}`,order_id:t,status:"cancelled",note:"Order cancelled by admin",changed_by:"admin-001",created_at:r}]}))},reassignOrder:(t,r)=>{let s=new Date().toISOString();e(e=>({orders:e.orders.map(e=>e.id===t?{...e,rider_id:r,status:"assigned",auto_assigned:!1,updated_at:s}:e),statusLogs:[...e.statusLogs,{id:`log-reassign-${Date.now()}`,order_id:t,status:"assigned",note:"Reassigned to rider by admin",changed_by:"admin-001",created_at:s}]}))}}));e.s(["useOrderStore",0,s])},70065,e=>{"use strict";var t=e.i(43476),r=e.i(47163);function s({className:e,...s}){return(0,t.jsx)("div",{"data-slot":"card",className:(0,r.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",e),...s})}function a({className:e,...s}){return(0,t.jsx)("div",{"data-slot":"card-header",className:(0,r.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-2 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",e),...s})}function d({className:e,...s}){return(0,t.jsx)("div",{"data-slot":"card-title",className:(0,r.cn)("leading-none font-semibold",e),...s})}function i({className:e,...s}){return(0,t.jsx)("div",{"data-slot":"card-description",className:(0,r.cn)("text-muted-foreground text-sm",e),...s})}function l({className:e,...s}){return(0,t.jsx)("div",{"data-slot":"card-content",className:(0,r.cn)("px-6",e),...s})}e.s(["Card",()=>s,"CardContent",()=>l,"CardDescription",()=>i,"CardHeader",()=>a,"CardTitle",()=>d])},67585,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"BailoutToCSR",{enumerable:!0,get:function(){return a}});let s=e.r(32061);function a({reason:e,children:t}){if("u"<typeof window)throw Object.defineProperty(new s.BailoutToCSRError(e),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0});return t}},9885,(e,t,r)=>{"use strict";function s(e){return e.split("/").map(e=>encodeURIComponent(e)).join("/")}Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"encodeURIPath",{enumerable:!0,get:function(){return s}})},52157,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"PreloadChunks",{enumerable:!0,get:function(){return n}});let s=e.r(43476),a=e.r(74080),d=e.r(63599),i=e.r(9885),l=e.r(43369);function n({moduleIds:e}){if("u">typeof window)return null;let t=d.workAsyncStorage.getStore();if(void 0===t)return null;let r=[];if(t.reactLoadableManifest&&e){let s=t.reactLoadableManifest;for(let t of e){if(!s[t])continue;let e=s[t].files;r.push(...e)}}if(0===r.length)return null;let n=(0,l.getDeploymentIdQueryOrEmptyString)();return(0,s.jsx)(s.Fragment,{children:r.map(e=>{let r=`${t.assetPrefix}/_next/${(0,i.encodeURIPath)(e)}${n}`;return e.endsWith(".css")?(0,s.jsx)("link",{precedence:"dynamic",href:r,rel:"stylesheet",as:"style",nonce:t.nonce},e):((0,a.preload)(r,{as:"script",fetchPriority:"low",nonce:t.nonce}),null)})})}},69093,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"default",{enumerable:!0,get:function(){return o}});let s=e.r(43476),a=e.r(71645),d=e.r(67585),i=e.r(52157);function l(e){return{default:e&&"default"in e?e.default:e}}let n={loader:()=>Promise.resolve(l(()=>null)),loading:null,ssr:!0},o=function(e){let t={...n,...e},r=(0,a.lazy)(()=>t.loader().then(l)),o=t.loading;function c(e){let l=o?(0,s.jsx)(o,{isLoading:!0,pastDelay:!0,error:null}):null,n=!t.ssr||!!t.loading,c=n?a.Suspense:a.Fragment,u=t.ssr?(0,s.jsxs)(s.Fragment,{children:["u"<typeof window?(0,s.jsx)(i.PreloadChunks,{moduleIds:t.modules}):null,(0,s.jsx)(r,{...e})]}):(0,s.jsx)(d.BailoutToCSR,{reason:"next/dynamic",children:(0,s.jsx)(r,{...e})});return(0,s.jsx)(c,{...n?{fallback:l}:{},children:u})}return c.displayName="LoadableComponent",c}},70703,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"default",{enumerable:!0,get:function(){return a}});let s=e.r(55682)._(e.r(69093));function a(e,t){let r={};"function"==typeof e&&(r.loader=e);let a={...r,...t};return(0,s.default)({...a,modules:a.loadableGenerated?.modules})}("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)},69505,e=>{"use strict";var t=e.i(43476);let r=(0,e.i(70703).default)(()=>e.A(72221),{loadableGenerated:{modules:[93836]},ssr:!1,loading:()=>(0,t.jsx)("div",{className:"w-full h-full min-h-[300px] rounded-lg bg-muted flex items-center justify-center",children:(0,t.jsx)("p",{className:"text-muted-foreground",children:"Loading map..."})})});function s(e){return(0,t.jsx)(r,{...e})}e.s(["MapView",()=>s])},16883,e=>{"use strict";var t=e.i(43476),r=e.i(71645),s=e.i(88844),a=e.i(75254);let d=(0,a.default)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),i=(0,a.default)("circle-x",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),l=(0,a.default)("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]),n=(0,a.default)("rotate-ccw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);var o=e.i(69505),c=e.i(70065);function u({title:e,value:r,icon:s,color:a}){return(0,t.jsx)(c.Card,{children:(0,t.jsxs)(c.CardContent,{className:"flex items-center gap-4 p-6",children:[(0,t.jsx)("div",{className:`w-12 h-12 rounded-lg flex items-center justify-center ${a}`,children:s}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:e}),(0,t.jsx)("p",{className:"text-2xl font-bold",children:r})]})]})})}var f=e.i(84744),g=e.i(93438),m=e.i(21961),h=e.i(97167),p=e.i(62870);function x(){let e=(0,f.useOrderStore)(e=>e.orders),a=(0,g.useRiderStore)(e=>e.riders),c=(0,g.useRiderStore)(e=>e.riderLocations),x=(0,m.useZoneStore)(e=>e.zones),j=(0,h.useWarehouseStore)(e=>e.warehouses),[y,_]=(0,r.useState)("all"),[w,b]=(0,r.useState)("all"),v=(0,r.useMemo)(()=>{let t=e;return"all"!==y&&(t=t.filter(e=>e.warehouse_id===y)),"all"!==w&&(t=t.filter(e=>e.zone_id===w)),t},[e,y,w]),S=(0,r.useMemo)(()=>"all"!==y?x.filter(e=>e.warehouse_id===y):x,[x,y]),O=(0,r.useMemo)(()=>a.map(e=>({...e,location:c.find(t=>t.rider_id===e.id)})),[a,c]),k=v.length,C=v.filter(e=>"delivered"===e.status).length,P=v.filter(e=>"failed"===e.status).length,L=v.filter(e=>"pending"===e.status).length,I=v.filter(e=>"return_pickup"===e.type).length;return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex gap-3 flex-wrap",children:[(0,t.jsxs)(p.Select,{value:y,onValueChange:e=>{_(e),b("all")},children:[(0,t.jsx)(p.SelectTrigger,{className:"w-[220px]",children:(0,t.jsx)(p.SelectValue,{placeholder:"All Warehouses"})}),(0,t.jsxs)(p.SelectContent,{children:[(0,t.jsx)(p.SelectItem,{value:"all",children:"All Warehouses"}),j.map(e=>(0,t.jsx)(p.SelectItem,{value:e.id,children:e.name},e.id))]})]}),(0,t.jsxs)(p.Select,{value:w,onValueChange:b,children:[(0,t.jsx)(p.SelectTrigger,{className:"w-[200px]",children:(0,t.jsx)(p.SelectValue,{placeholder:"All Zones"})}),(0,t.jsxs)(p.SelectContent,{children:[(0,t.jsx)(p.SelectItem,{value:"all",children:"All Zones"}),S.map(e=>(0,t.jsx)(p.SelectItem,{value:e.id,children:e.name},e.id))]})]})]}),(0,t.jsx)("div",{className:"h-[60vh] rounded-lg overflow-hidden border",children:(0,t.jsx)(o.MapView,{orders:v,riders:O,zones:"all"!==w?x.filter(e=>e.id===w):S})}),(0,t.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-4",children:[(0,t.jsx)(u,{title:"Total Orders",value:k,icon:(0,t.jsx)(s.Package,{className:"w-5 h-5 text-blue-600"}),color:"bg-blue-100"}),(0,t.jsx)(u,{title:"Delivered",value:C,icon:(0,t.jsx)(d,{className:"w-5 h-5 text-green-600"}),color:"bg-green-100"}),(0,t.jsx)(u,{title:"Failed",value:P,icon:(0,t.jsx)(i,{className:"w-5 h-5 text-red-600"}),color:"bg-red-100"}),(0,t.jsx)(u,{title:"Pending",value:L,icon:(0,t.jsx)(l,{className:"w-5 h-5 text-yellow-600"}),color:"bg-yellow-100"}),(0,t.jsx)(u,{title:"Return Pickups",value:I,icon:(0,t.jsx)(n,{className:"w-5 h-5 text-orange-600"}),color:"bg-orange-100"})]})]})}e.s(["default",()=>x],16883)},72221,e=>{e.v(t=>Promise.all(["static/chunks/c1bc1b5849847389.js","static/chunks/0757aa59f42e7227.js","static/chunks/92775ae1698e5da0.css"].map(t=>e.l(t))).then(()=>t(93836)))}]);