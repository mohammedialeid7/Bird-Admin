(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,23750,e=>{"use strict";var r=e.i(43476),t=e.i(47163);function i({className:e,type:i,...s}){return(0,r.jsx)("input",{type:i,"data-slot":"input",className:(0,t.cn)("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",e),...s})}e.s(["Input",()=>i])},10708,e=>{"use strict";var r=e.i(43476),t=e.i(71645),i=e.i(48425),s=t.forwardRef((e,t)=>(0,r.jsx)(i.Primitive.label,{...e,ref:t,onMouseDown:r=>{r.target.closest("button, input, select, textarea")||(e.onMouseDown?.(r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));s.displayName="Label",e.s(["Label",()=>s,"Root",()=>s],73741);var n=e.i(73741),n=n,a=e.i(47163);function d({className:e,...t}){return(0,r.jsx)(n.Root,{"data-slot":"label",className:(0,a.cn)("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",e),...t})}e.s(["Label",()=>d],10708)},94179,e=>{"use strict";var r=e.i(43476),t=e.i(25913),i=e.i(86011),s=e.i(47163);let n=(0,t.cva)("inline-flex items-center justify-center rounded-full border border-transparent px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border-border text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground",ghost:"[a&]:hover:bg-accent [a&]:hover:text-accent-foreground",link:"text-primary underline-offset-4 [a&]:hover:underline"}},defaultVariants:{variant:"default"}});function a({className:e,variant:t="default",asChild:a=!1,...d}){let o=a?i.Slot.Root:"span";return(0,r.jsx)(o,{"data-slot":"badge","data-variant":t,className:(0,s.cn)(n({variant:t}),e),...d})}e.s(["Badge",()=>a])},71689,e=>{"use strict";let r=(0,e.i(75254).default)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);e.s(["ArrowLeft",()=>r],71689)},21961,e=>{"use strict";var r=e.i(68834),t=e.i(27250);let i=(0,r.create)((e,r)=>({zones:t.mockZones,getZones:()=>r().zones,getZoneById:e=>r().zones.find(r=>r.id===e),updateZone:(r,t)=>{e(e=>({zones:e.zones.map(e=>e.id===r?{...e,...t}:e)}))}}));e.s(["useZoneStore",0,i])},97167,e=>{"use strict";var r=e.i(68834),t=e.i(27250);let i=(0,r.create)((e,r)=>({warehouses:t.mockWarehouses,getWarehouses:()=>r().warehouses,getWarehouseById:e=>r().warehouses.find(r=>r.id===e),updateWarehouse:(r,t)=>{e(e=>({warehouses:e.warehouses.map(e=>e.id===r?{...e,...t}:e)}))}}));e.s(["useWarehouseStore",0,i])},93438,e=>{"use strict";var r=e.i(68834),t=e.i(27250);let i=(0,r.create)((e,r)=>({riders:t.mockRiders,riderZones:t.mockRiderZones,riderLocations:t.mockRiderLocations,getRiders:e=>{let t=r().riders;if(e?.warehouseId&&(t=t.filter(r=>r.warehouse_id===e.warehouseId)),e?.zoneId){let i=r().riderZones.filter(r=>r.zone_id===e.zoneId).map(e=>e.rider_id);t=t.filter(e=>i.includes(e.id))}return e?.activeOnly&&(t=t.filter(e=>e.is_active)),t},getRiderById:e=>r().riders.find(r=>r.id===e),getRiderZones:e=>r().riderZones.filter(r=>r.rider_id===e),getRiderLocation:e=>r().riderLocations.find(r=>r.rider_id===e),addRiderZone:(t,i)=>{r().riderZones.some(e=>e.rider_id===t&&e.zone_id===i)||e(e=>({riderZones:[...e.riderZones,{id:`rz-${Date.now()}`,rider_id:t,zone_id:i}]}))},removeRiderZone:(r,t)=>{e(e=>({riderZones:e.riderZones.filter(e=>e.rider_id!==r||e.zone_id!==t)}))}}));e.s(["useRiderStore",0,i])},70065,e=>{"use strict";var r=e.i(43476),t=e.i(47163);function i({className:e,...i}){return(0,r.jsx)("div",{"data-slot":"card",className:(0,t.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",e),...i})}function s({className:e,...i}){return(0,r.jsx)("div",{"data-slot":"card-header",className:(0,t.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-2 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",e),...i})}function n({className:e,...i}){return(0,r.jsx)("div",{"data-slot":"card-title",className:(0,t.cn)("leading-none font-semibold",e),...i})}function a({className:e,...i}){return(0,r.jsx)("div",{"data-slot":"card-description",className:(0,t.cn)("text-muted-foreground text-sm",e),...i})}function d({className:e,...i}){return(0,r.jsx)("div",{"data-slot":"card-content",className:(0,t.cn)("px-6",e),...i})}e.s(["Card",()=>i,"CardContent",()=>d,"CardDescription",()=>a,"CardHeader",()=>s,"CardTitle",()=>n])},67585,(e,r,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"BailoutToCSR",{enumerable:!0,get:function(){return s}});let i=e.r(32061);function s({reason:e,children:r}){if("u"<typeof window)throw Object.defineProperty(new i.BailoutToCSRError(e),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0});return r}},9885,(e,r,t)=>{"use strict";function i(e){return e.split("/").map(e=>encodeURIComponent(e)).join("/")}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"encodeURIPath",{enumerable:!0,get:function(){return i}})},52157,(e,r,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"PreloadChunks",{enumerable:!0,get:function(){return o}});let i=e.r(43476),s=e.r(74080),n=e.r(63599),a=e.r(9885),d=e.r(43369);function o({moduleIds:e}){if("u">typeof window)return null;let r=n.workAsyncStorage.getStore();if(void 0===r)return null;let t=[];if(r.reactLoadableManifest&&e){let i=r.reactLoadableManifest;for(let r of e){if(!i[r])continue;let e=i[r].files;t.push(...e)}}if(0===t.length)return null;let o=(0,d.getDeploymentIdQueryOrEmptyString)();return(0,i.jsx)(i.Fragment,{children:t.map(e=>{let t=`${r.assetPrefix}/_next/${(0,a.encodeURIPath)(e)}${o}`;return e.endsWith(".css")?(0,i.jsx)("link",{precedence:"dynamic",href:t,rel:"stylesheet",as:"style",nonce:r.nonce},e):((0,s.preload)(t,{as:"script",fetchPriority:"low",nonce:r.nonce}),null)})})}},69093,(e,r,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return l}});let i=e.r(43476),s=e.r(71645),n=e.r(67585),a=e.r(52157);function d(e){return{default:e&&"default"in e?e.default:e}}let o={loader:()=>Promise.resolve(d(()=>null)),loading:null,ssr:!0},l=function(e){let r={...o,...e},t=(0,s.lazy)(()=>r.loader().then(d)),l=r.loading;function u(e){let d=l?(0,i.jsx)(l,{isLoading:!0,pastDelay:!0,error:null}):null,o=!r.ssr||!!r.loading,u=o?s.Suspense:s.Fragment,c=r.ssr?(0,i.jsxs)(i.Fragment,{children:["u"<typeof window?(0,i.jsx)(a.PreloadChunks,{moduleIds:r.modules}):null,(0,i.jsx)(t,{...e})]}):(0,i.jsx)(n.BailoutToCSR,{reason:"next/dynamic",children:(0,i.jsx)(t,{...e})});return(0,i.jsx)(u,{...o?{fallback:d}:{},children:c})}return u.displayName="LoadableComponent",u}},70703,(e,r,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return s}});let i=e.r(55682)._(e.r(69093));function s(e,r){let t={};"function"==typeof e&&(t.loader=e);let s={...t,...r};return(0,i.default)({...s,modules:s.loadableGenerated?.modules})}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),r.exports=t.default)},69505,e=>{"use strict";var r=e.i(43476);let t=(0,e.i(70703).default)(()=>e.A(72221),{loadableGenerated:{modules:[93836]},ssr:!1,loading:()=>(0,r.jsx)("div",{className:"w-full h-full min-h-[300px] rounded-lg bg-muted flex items-center justify-center",children:(0,r.jsx)("p",{className:"text-muted-foreground",children:"Loading map..."})})});function i(e){return(0,r.jsx)(t,{...e})}e.s(["MapView",()=>i])},7233,e=>{"use strict";let r=(0,e.i(75254).default)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);e.s(["Plus",()=>r],7233)},37727,e=>{"use strict";var r=e.i(41947);e.s(["X",()=>r.default])},325,e=>{"use strict";var r=e.i(43476),t=e.i(71645),i=e.i(18566),s=e.i(71689),n=e.i(37727),a=e.i(7233),d=e.i(67881),o=e.i(23750),l=e.i(10708),u=e.i(70065),c=e.i(94179),f=e.i(62870),m=e.i(69505),p=e.i(21961),h=e.i(97167),g=e.i(93438),x=e.i(46696);function v({params:e}){let{id:v}=(0,t.use)(e),b=(0,i.useRouter)(),j=(0,p.useZoneStore)(e=>e.getZoneById(v)),y=(0,p.useZoneStore)(e=>e.updateZone),w=(0,h.useWarehouseStore)(e=>e.warehouses),_=(0,g.useRiderStore)(e=>e.riders),C=(0,g.useRiderStore)(e=>e.riderZones),N=(0,g.useRiderStore)(e=>e.addRiderZone),R=(0,g.useRiderStore)(e=>e.removeRiderZone),[k,Z]=(0,t.useState)(j?.name??""),[S,P]=(0,t.useState)("");if(!j)return(0,r.jsxs)("div",{className:"text-center py-12",children:[(0,r.jsx)("p",{className:"text-muted-foreground",children:"Zone not found."}),(0,r.jsx)(d.Button,{variant:"link",onClick:()=>b.push("/zones"),children:"Back to Zones"})]});let z=w.find(e=>e.id===j.warehouse_id),O=C.filter(e=>e.zone_id===j.id).map(e=>e.rider_id),I=_.filter(e=>O.includes(e.id)),B=_.filter(e=>!O.includes(e.id)&&e.warehouse_id===j.warehouse_id),L=j.polygon.coordinates[0],M=L.reduce((e,r)=>e+r[1],0)/L.length,T=L.reduce((e,r)=>e+r[0],0)/L.length;return(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)(d.Button,{variant:"ghost",size:"sm",onClick:()=>b.push("/zones"),children:[(0,r.jsx)(s.ArrowLeft,{className:"w-4 h-4 mr-1"})," Back to Zones"]}),(0,r.jsx)("div",{className:"h-[70vh] rounded-lg overflow-hidden border",children:(0,r.jsx)(m.MapView,{center:{lat:M,lng:T},zoom:13,zones:[j]})}),(0,r.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,r.jsxs)(u.Card,{children:[(0,r.jsx)(u.CardHeader,{children:(0,r.jsx)(u.CardTitle,{className:"text-base",children:"Zone Information"})}),(0,r.jsxs)(u.CardContent,{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(l.Label,{children:"Zone Name"}),(0,r.jsx)(o.Input,{value:k,onChange:e=>Z(e.target.value)})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(l.Label,{children:"Warehouse"}),(0,r.jsx)(o.Input,{value:z?.name??"â€”",disabled:!0})]}),(0,r.jsx)(d.Button,{onClick:()=>{y(j.id,{name:k}),x.toast.success("Zone updated")},children:"Save Changes"})]})]}),(0,r.jsxs)(u.Card,{children:[(0,r.jsx)(u.CardHeader,{children:(0,r.jsx)(u.CardTitle,{className:"text-base",children:"Assigned Riders"})}),(0,r.jsxs)(u.CardContent,{className:"space-y-3",children:[(0,r.jsxs)("div",{className:"flex gap-2 flex-wrap",children:[I.map(e=>(0,r.jsxs)(c.Badge,{variant:"outline",className:"flex items-center gap-1 pr-1",children:[e.full_name,(0,r.jsx)("button",{onClick:()=>{R(e.id,j.id),x.toast.success("Rider removed from zone")},className:"ml-1 rounded-full hover:bg-muted p-0.5",children:(0,r.jsx)(n.X,{className:"w-3 h-3"})})]},e.id)),0===I.length&&(0,r.jsx)("p",{className:"text-sm text-muted-foreground",children:"No riders assigned."})]}),B.length>0&&(0,r.jsxs)("div",{className:"flex gap-2",children:[(0,r.jsxs)(f.Select,{value:S,onValueChange:P,children:[(0,r.jsx)(f.SelectTrigger,{className:"w-[200px]",children:(0,r.jsx)(f.SelectValue,{placeholder:"Add rider..."})}),(0,r.jsx)(f.SelectContent,{children:B.map(e=>(0,r.jsx)(f.SelectItem,{value:e.id,children:e.full_name},e.id))})]}),(0,r.jsxs)(d.Button,{size:"sm",onClick:()=>{S&&(N(S,j.id),P(""),x.toast.success("Rider added to zone"))},disabled:!S,children:[(0,r.jsx)(a.Plus,{className:"w-4 h-4 mr-1"})," Add"]})]})]})]})]})]})}e.s(["default",()=>v])},72221,e=>{e.v(r=>Promise.all(["static/chunks/c1bc1b5849847389.js","static/chunks/0757aa59f42e7227.js","static/chunks/92775ae1698e5da0.css"].map(r=>e.l(r))).then(()=>r(93836)))}]);